
<h1>Welcome, <%= @user.first_name %>!</h1>
<h2>backbone.js group expense manager</h2>

<div class="page"></div>

<script type="text/template" id="user-summary">
    <h3><%= @user.first_name %> owes: {{= stats.total_debt }}</h3>
    <h3><%= @user.first_name %> is owed: {{= stats.total_credit }}</h3>
</script>



<script type="text/template" id="bills-table">
  <a href="#/new" class="btn btn-primary">Add Expense</a>
  <table class="table striped">
    <thead>
      <tr>
        <th>Name</th>
        <th>Category</th>
        <th>Amount</th>
        <th>Who Paid?</th>
        <th>Who Owes?</th>
        <th>Actions</th>
      </tr> 
    </thead>
    <tbody>
        {{ _.each(expenses, function(expense){ }}
          <tr>
            {{ var expense = expense.get('expense') }}
              <td>{{= expense.name }}</td>
              <td>{{= expense.category }}</td>
              <td>{{= '$'+ parseFloat(expense.total).toFixed(2) }}</td>
              <td>{{= expense.creditor_name }}</td>
              <td>{{= expense.debtor_names }}</td>
              <td>
                <form>
                  <input type="hidden" name="id" id="expense-id" value="{{=expense.id}}"/>
                  <button type="submit" class="btn btn-danger delete">Delete</button>
                </form>
              </td>
          </tr>
        {{ }); }}
    </tbody>
  </table>
</script>

<script type="text/template" id="edit-expense-template">
  <div class="exepnse-form-area">
    <form class="edit-expense-form">
      <legend>Add Expense</legend>
      <label for="name">Name</label>
      <input type="text" id="name" name="name"><br>

      <label for="category">Category</label>
      <input type="text" id="category" name="category"><br>

      <label for="total">Amount</label>
      <input type="number" step="0.01" id="total" name="total"><br>
      <label for="debtors">Who Owes?</label><br>
      {{  _.each(members, function(member){ }}
        {{ var member = member.get('user') }}
        <input type="checkbox" name="debtors" value="{{= member.id }}"> {{= member.first_name.trim() }} <br>
      {{  }); }}
      <button type="submit" class="btn">Save Expense</button>
    </form>
  </div>
</script>

